# 后端架构师成长型开源项目蓝图（从基础到架构）

## 一、项目核心目标

本开源项目的目标不是简单"做项目"，而是构建一条**可执行、可复现、可扩展**的成长路径，使学习者能够从后端基础逐步成长为具备真实系统设计与架构能力的工程师。

核心原则：

-   **项目驱动学习**：每个知识点必须落地为真实代码
-   **问题驱动成长**：主动构造生产级问题并完成完整闭环
-   **工程化优先**：所有内容遵循真实公司开发流程
-   **容器化环境**：全部基于 Docker 部署
-   **GitHub 托管**：保证可协作与可持续迭代

------------------------------------------------------------------------

## 二、学习闭环模型（最重要）

每个技术模块必须遵循统一的工程闭环：

1.  **构建系统** ------ 写出可运行的基础版本\
2.  **制造问题** ------ 人为注入高并发、延迟、数据不一致等问题\
3.  **定位问题** ------ 使用专业工具进行分析\
4.  **解决问题** ------ 优化架构或代码\
5.  **验证测试** ------ 压测 + 单元测试\
6.  **监控系统** ------ 建立指标与告警\
7.  **复盘沉淀** ------ 输出问题分析文档

> 目标：让你具备 **"系统出故障 → 快速定位 → 稳定修复"** 的高级工程能力。

------------------------------------------------------------------------

## 三、总体技术路线（由浅入深）

### Stage 0 ------ 工程基础（强烈建议优先）

**目标：建立专业工程习惯，而非"能跑就行"。**

-   Golang 项目结构设计
-   Makefile / Taskfile
-   Git 分支模型
-   Dockerfile 编写
-   docker-compose 环境编排
-   CI（GitHub Actions）
-   单元测试 + Benchmark
-   结构化日志（Zap）

### 输出项目：

👉 `project-0-engineering-template`\
一个可直接复用的企业级 Golang 脚手架。

------------------------------------------------------------------------

### Stage 1 ------ Golang 核心能力

**目标：理解语言如何支撑高并发系统。**

实现模块：

-   Goroutine 调度器模拟
-   Channel 实现生产者消费者
-   Context 超时控制
-   内存逃逸实验
-   sync.Map vs map + mutex 压测

### 构造问题：

-   Goroutine 泄漏\
-   死锁\
-   CPU 飙高\
-   内存暴涨

### 定位手段：

-   pprof
-   trace
-   go tool compile -m
-   runtime 指标

### 输出项目：

👉 `project-1-go-concurrency-lab`

------------------------------------------------------------------------

### Stage 2 ------ 自研基础组件（极其关键）

**目标：理解"中间件本质"。**

实现：

-   LRU / LFU 缓存
-   延迟队列（时间轮）
-   Worker Pool
-   熔断器
-   限流器（令牌桶）

### 制造问题：

-   缓存击穿\
-   缓存雪崩\
-   队列堆积

👉 让你真正理解 Redis / MQ 为什么存在。

输出：

👉 `project-2-mini-middleware`

------------------------------------------------------------------------

### Stage 3 ------ Web 系统演进

架构升级路径：

    单体系统 → 模块化 → 服务拆分 → 微服务雏形

实现：

-   用户系统
-   JWT 鉴权
-   RBAC 权限
-   请求日志
-   Panic Recovery
-   优雅关闭

### 制造问题：

-   慢请求\
-   DB 被打爆\
-   线程耗尽

定位：

-   tracing
-   火焰图
-   SQL 分析

输出：

👉 `project-3-user-service`

------------------------------------------------------------------------

## 四、中间件深度路线（使用 → 原理 → 故障 → 优化）

这是成长为架构师的**分水岭**。

------------------------------------------------------------------------

### MySQL

学习路径：

-   手写 Mini SQL Parser
-   实现 B+Tree
-   构建 Buffer Pool

制造故障：

-   慢 SQL\
-   索引失效\
-   死锁

掌握：

-   EXPLAIN
-   锁分析
-   分库分表策略

输出：

👉 `project-mysql-lab`

------------------------------------------------------------------------

### Redis

实现：

-   Mini Redis
-   TTL 过期
-   发布订阅

故障注入：

-   热 Key\
-   Big Key\
-   穿透 / 雪崩

优化：

-   Pipeline
-   Lua
-   Cluster

输出：

👉 `project-redis-lab`

------------------------------------------------------------------------

### Kafka

实现：

-   Mini MQ
-   Partition
-   Consumer Group

制造问题：

-   消息积压\
-   重复消费\
-   顺序错乱

掌握：

-   Rebalance
-   Exactly Once

输出：

👉 `project-kafka-lab`

------------------------------------------------------------------------

## 五、分布式系统跃迁

当你走到这里，能力已经超越多数高级工程师。

实现：

-   Raft
-   分布式锁
-   ID 生成器
-   服务注册发现

制造事故：

-   网络分区\
-   Leader 崩溃\
-   脑裂

输出：

👉 `project-distributed-lab`

------------------------------------------------------------------------

## 六、可观测性体系（架构师必备）

构建：

-   Prometheus
-   Grafana
-   OpenTelemetry
-   Loki

实现：

-   RED 指标
-   告警系统
-   错误预算

输出：

👉 `project-observability-stack`

------------------------------------------------------------------------

## 七、最终目标 ------ 架构级项目

构建一个：

# 👉 Mini 电商平台

包含：

-   API Gateway
-   用户服务
-   订单服务
-   库存服务
-   支付服务

必须解决：

-   分布式事务
-   缓存一致性
-   流量洪峰
-   服务降级

输出：

👉 `project-mini-amazon`

------------------------------------------------------------------------

## 八、统一问题定位方法论（非常重要）

遇到故障时，遵循固定路径：

### 第一步：判断资源瓶颈

看：

-   CPU
-   内存
-   IO
-   网络

### 第二步：判断系统瓶颈

看：

-   Goroutine
-   锁
-   队列
-   连接池

### 第三步：判断架构瓶颈

看：

-   DB 是否单点
-   缓存是否失效
-   是否同步调用

> **80% 的系统问题，本质都是架构问题。**

------------------------------------------------------------------------

## 九、GitHub 仓库建议结构

    architect-roadmap
    │
    ├── roadmap.md
    ├── projects
    ├── middleware-labs
    ├── distributed-labs
    ├── docker-env
    ├── docs
    └── scripts

------------------------------------------------------------------------

## 十、成长结果（6--12个月）

完成后，你将具备：

-   中间件级理解
-   分布式系统设计能力
-   故障定位能力
-   架构思维
-   高并发经验

👉 从"CRUD工程师"跃迁为：

# **系统型工程师 / 架构师候选人**
